function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var r=function t(){var i=this;e(this,t),n(this,"touchStart",(function(t){i.resetTouchStatus(),i.startX=t.touches[0].clientX,i.startY=t.touches[0].clientY})),n(this,"touchMove",(function(t){var e=t.touches[0];i.deltaX=e.clientX-i.startX,i.deltaY=e.clientY-i.startY,i.offsetX=Math.abs(i.deltaX),i.offsetY=Math.abs(i.deltaY)})),n(this,"resetTouchStatus",(function(){i.deltaX=0,i.deltaY=0,i.offsetX=0,i.offsetY=0})),this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0};function a(t,e){("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&t.stopPropagation()}function s(t){return"function"==typeof t}function u(e){if("string"==typeof e&&(e=document.querySelector(e)),("object"===("undefined"==typeof HTMLElement?"undefined":t(HTMLElement))?function(t){return t instanceof HTMLElement}:function(e){return e&&"object"===t(e)&&1===e.nodeType&&"string"==typeof e.nodeName})(e))return e;throw TypeError("el is not define")}var l=function t(){var i=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),n(this,"initHtml",(function(){i.el.style.background=i.options.inactiveColor,i.el.innerHTML='\n      <div class="v-slider-bar">\n        <div class="v-slider__button-wrapper">\n          <div class="v-slider__button"></div>\n        </div>\n      </div>\n    ',i.el.querySelector(".v-slider__button").style.width=i.options.buttonSize,i.el.querySelector(".v-slider__button").style.height=i.options.buttonSize,i.options.barHeight&&(i.el.style.height=i.options.barHeight,i.el.querySelector(".v-slider-bar").style.height=i.options.barHeight),i.disabled&&i.el.classList.add("v-slider-disabled")})),n(this,"updateValue",(function(t,e){t=i.format(t);var n=i.options.input,o=i.options.change;n&&(s(n)?n.call(i,t):console.warn("input is not a function")),e&&o&&(s(o)?o.call(i,t):console.warn("change is not a function")),i.value=t,i.render()})),n(this,"setValue",(function(t){""===i.dragStatus&&i.updateValue(t)})),n(this,"format",(function(t){return Math.round(Math.max(i.min,Math.min(t,i.max))/i.step)*i.step})),n(this,"onClick",(function(t){if(!i.disabled){t.stopPropagation();var e=i.el.getBoundingClientRect(),n=t.clientX-e.left,o=e.width,r=+i.min+n/o*i.scope;i.startValue=i.value,i.updateValue(r,!0)}})),n(this,"onTouchStart",(function(t){i.disabled||(i.touchMixin.touchStart(t),i.currentValue=i.value,i.startValue=i.format(i.value),i.dragStatus="start")})),n(this,"onTouchMove",(function(t){if(!i.disabled){var e=i.options.dragStart;"start"===i.dragStatus&&e&&(s(e)?e():console.warn("dragStart is not a function")),i.el.querySelector(".v-slider-bar").style.transition="none 0s ease 0s",a(t,!0),i.touchMixin.touchMove(t),i.dragStatus="draging";var n=i.el.getBoundingClientRect(),o=i.touchMixin.deltaX/n.width*i.scope;i.currentValue=i.startValue+o,i.updateValue(i.currentValue)}})),n(this,"onTouchEnd",(function(){if(!i.disabled){if("draging"===i.dragStatus){i.updateValue(i.currentValue,!0);var t=i.options.dragEnd;t&&(s(t)?t():console.warn("dragEnd is not a function"))}i.el.querySelector(".v-slider-bar").style.transition=null,i.dragStatus=""}})),n(this,"bindTouchEvent",(function(t){var e=i.onTouchStart,n=i.onTouchMove,o=i.onTouchEnd;t.addEventListener("touchstart",e),t.addEventListener("touchmove",n),o&&(t.addEventListener("touchend",o),t.addEventListener("touchcancel",o))})),n(this,"calcMainAxis",(function(){var t=i.value,e=i.min,n=i.scope;return"".concat(100*(t-e)/n,"%")})),n(this,"calcOffset",(function(){i.value,i.min,i.scope;return null})),n(this,"render",(function(){var t={width:i.calcMainAxis(),background:i.options.activeColor},e=i.el.querySelector(".v-slider-bar");e.style.width=t.width,e.style.background=t.background})),this.options=o({min:0,max:100,step:1,value:0,disabled:!1},l),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.value=this.options.value,this.disabled=this.options.disabled,this.el=u(this.options.el),this.dragStatus="",this.scope=this.max-this.min,this.initHtml(),this.updateValue(this.value);var c=this.el.querySelector(".v-slider__button-wrapper");this.bindTouchEvent(c),this.touchMixin=new r,this.el.addEventListener("click",this.onClick)};export default l;

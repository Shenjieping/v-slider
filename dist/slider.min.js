!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Slider=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r=function t(){var o=this;e(this,t),n(this,"touchStart",(function(t){o.resetTouchStatus(),o.startX=t.touches[0].clientX,o.startY=t.touches[0].clientY})),n(this,"touchMove",(function(t){var e=t.touches[0];o.deltaX=e.clientX-o.startX,o.deltaY=e.clientY-o.startY,o.offsetX=Math.abs(o.deltaX),o.offsetY=Math.abs(o.deltaY)})),n(this,"resetTouchStatus",(function(){o.deltaX=0,o.deltaY=0,o.offsetX=0,o.offsetY=0})),this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0};function a(t,e){("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&t.stopPropagation()}function s(t){return"function"==typeof t}function u(e){if("string"==typeof e&&(e=document.querySelector(e)),("object"===("undefined"==typeof HTMLElement?"undefined":t(HTMLElement))?function(t){return t instanceof HTMLElement}:function(e){return e&&"object"===t(e)&&1===e.nodeType&&"string"==typeof e.nodeName})(e))return e;throw TypeError("el is not define")}return function t(){var o=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),n(this,"initHtml",(function(){o.el.style.background=o.options.inactiveColor,o.el.innerHTML='\n      <div class="v-slider-bar">\n        <div class="v-slider__button-wrapper">\n          <div class="v-slider__button"></div>\n        </div>\n      </div>\n    ',o.el.querySelector(".v-slider__button").style.width=o.options.buttonSize,o.el.querySelector(".v-slider__button").style.height=o.options.buttonSize,o.options.barHeight&&(o.el.style.height=o.options.barHeight,o.el.querySelector(".v-slider-bar").style.height=o.options.barHeight)})),n(this,"updateValue",(function(t,e){t=o.format(t);var n=o.options.input,i=o.options.change;n&&(s(n)?n.call(o,t):console.warn("input is not a function")),e&&i&&(s(i)?i.call(o,t):console.warn("change is not a function")),o.value=t,o.render()})),n(this,"format",(function(t){return Math.round(Math.max(o.min,Math.min(t,o.max))/o.step)*o.step})),n(this,"onClick",(function(t){t.stopPropagation();var e=o.el.getBoundingClientRect(),n=t.clientX-e.left,i=e.width,r=+o.min+n/i*o.scope;o.startValue=o.value,o.updateValue(r,!0)})),n(this,"onTouchStart",(function(t){o.touchMixin.touchStart(t),o.currentValue=o.value,o.startValue=o.format(o.value),o.dragStatus="start"})),n(this,"onTouchMove",(function(t){var e=o.options.dragStart;"start"===o.dragStatus&&e&&(s(e)?e():console.warn("dragStart is not a function")),o.el.querySelector(".v-slider-bar").style.transition="none 0s ease 0s",a(t,!0),o.touchMixin.touchMove(t),o.dragStatus="draging";var n=o.el.getBoundingClientRect(),i=o.touchMixin.deltaX/n.width*o.scope;o.currentValue=o.startValue+i,o.updateValue(o.currentValue)})),n(this,"onTouchEnd",(function(){if("draging"===o.dragStatus){o.updateValue(o.currentValue,!0);var t=o.options.dragEnd;t&&(s(t)?t():console.warn("dragEnd is not a function"))}o.el.querySelector(".v-slider-bar").style.transition=null,o.dragStatus=""})),n(this,"bindTouchEvent",(function(t){var e=o.onTouchStart,n=o.onTouchMove,i=o.onTouchEnd;t.addEventListener("touchstart",e),t.addEventListener("touchmove",n),i&&(t.addEventListener("touchend",i),t.addEventListener("touchcancel",i))})),n(this,"calcMainAxis",(function(){var t=o.value,e=o.min,n=o.scope;return"".concat(100*(t-e)/n,"%")})),n(this,"calcOffset",(function(){o.value,o.min,o.scope;return null})),n(this,"render",(function(){var t={width:o.calcMainAxis(),background:o.options.activeColor},e=o.el.querySelector(".v-slider-bar");e.style.width=t.width,e.style.background=t.background})),this.options=i({min:0,max:100,step:1,value:0},c),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.value=this.options.value,this.el=u(this.options.el),this.dragStatus="",this.scope=this.max-this.min,this.initHtml(),this.updateValue(this.value);var l=this.el.querySelector(".v-slider__button-wrapper");this.bindTouchEvent(l),this.touchMixin=new r,this.el.addEventListener("click",this.onClick)}}));
